<svg width="800" height="450" viewBox="0 0 800 450" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bg2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a0e"/>
      <stop offset="100%" style="stop-color:#050508"/>
    </linearGradient>
    <filter id="blur2" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="30"/>
    </filter>
    <filter id="glow2">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="url(#bg2)"/>

  <!-- Grid -->
  <g opacity="0.08">
    <line x1="0" y1="75" x2="800" y2="75" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="0" y1="150" x2="800" y2="150" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="0" y1="225" x2="800" y2="225" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="0" y1="300" x2="800" y2="300" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="0" y1="375" x2="800" y2="375" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="100" y1="0" x2="100" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="200" y1="0" x2="200" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="300" y1="0" x2="300" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="400" y1="0" x2="400" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="500" y1="0" x2="500" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="600" y1="0" x2="600" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
    <line x1="700" y1="0" x2="700" y2="450" stroke="#00d4ff" stroke-width="0.5"/>
  </g>

  <!-- Glow orbs -->
  <circle cx="150" cy="150" r="100" fill="#a855f7" opacity="0.12" filter="url(#blur2)"/>
  <circle cx="650" cy="300" r="120" fill="#00d4ff" opacity="0.1" filter="url(#blur2)"/>
  <circle cx="400" cy="225" r="80" fill="#00ff88" opacity="0.08" filter="url(#blur2)"/>

  <!-- API Gateway (center top) -->
  <g transform="translate(350, 60)">
    <rect width="100" height="50" rx="8" stroke="#00ff88" stroke-width="2" fill="#0a0a0e" filter="url(#glow2)"/>
    <text x="50" y="30" text-anchor="middle" fill="#00ff88" font-family="monospace" font-size="11">GATEWAY</text>
  </g>

  <!-- Microservices -->
  <!-- User Service -->
  <g transform="translate(100, 180)">
    <rect width="90" height="45" rx="6" stroke="#00d4ff" stroke-width="1.5" fill="#0a0a0e"/>
    <text x="45" y="27" text-anchor="middle" fill="#00d4ff" font-family="monospace" font-size="10">USER</text>
  </g>

  <!-- Product Service -->
  <g transform="translate(250, 180)">
    <rect width="90" height="45" rx="6" stroke="#ff9500" stroke-width="1.5" fill="#0a0a0e"/>
    <text x="45" y="27" text-anchor="middle" fill="#ff9500" font-family="monospace" font-size="10">PRODUCT</text>
  </g>

  <!-- Order Service -->
  <g transform="translate(460, 180)">
    <rect width="90" height="45" rx="6" stroke="#a855f7" stroke-width="1.5" fill="#0a0a0e"/>
    <text x="45" y="27" text-anchor="middle" fill="#a855f7" font-family="monospace" font-size="10">ORDER</text>
  </g>

  <!-- Payment Service -->
  <g transform="translate(610, 180)">
    <rect width="90" height="45" rx="6" stroke="#ffd93d" stroke-width="1.5" fill="#0a0a0e"/>
    <text x="45" y="27" text-anchor="middle" fill="#ffd93d" font-family="monospace" font-size="10">PAYMENT</text>
  </g>

  <!-- Settlement Service -->
  <g transform="translate(355, 300)">
    <rect width="90" height="45" rx="6" stroke="#ff4757" stroke-width="1.5" fill="#0a0a0e"/>
    <text x="45" y="27" text-anchor="middle" fill="#ff4757" font-family="monospace" font-size="10">SETTLE</text>
  </g>

  <!-- Connection lines from Gateway -->
  <g stroke="#1a1a22" stroke-width="1" opacity="0.8">
    <line x1="400" y1="110" x2="145" y2="180"/>
    <line x1="400" y1="110" x2="295" y2="180"/>
    <line x1="400" y1="110" x2="505" y2="180"/>
    <line x1="400" y1="110" x2="655" y2="180"/>
  </g>

  <!-- Animated data flow lines -->
  <g stroke="#00ff88" stroke-width="1.5" opacity="0.6" stroke-dasharray="6 4">
    <line x1="400" y1="110" x2="145" y2="180"/>
    <line x1="400" y1="110" x2="295" y2="180"/>
    <line x1="400" y1="110" x2="505" y2="180"/>
    <line x1="400" y1="110" x2="655" y2="180"/>
  </g>

  <!-- RabbitMQ message flow -->
  <g stroke="#ff9500" stroke-width="1" stroke-dasharray="4 3" opacity="0.5">
    <path d="M505 225 Q 450 260 400 300" fill="none"/>
    <path d="M655 225 Q 550 280 445 300" fill="none"/>
  </g>

  <!-- Database icons -->
  <g transform="translate(130, 260)" opacity="0.5">
    <ellipse cx="15" cy="5" rx="15" ry="5" stroke="#00d4ff" fill="none"/>
    <path d="M0 5 v15 a15 5 0 0 0 30 0 v-15" stroke="#00d4ff" fill="none"/>
  </g>

  <g transform="translate(280, 260)" opacity="0.5">
    <ellipse cx="15" cy="5" rx="15" ry="5" stroke="#ff9500" fill="none"/>
    <path d="M0 5 v15 a15 5 0 0 0 30 0 v-15" stroke="#ff9500" fill="none"/>
  </g>

  <g transform="translate(490, 260)" opacity="0.5">
    <ellipse cx="15" cy="5" rx="15" ry="5" stroke="#a855f7" fill="none"/>
    <path d="M0 5 v15 a15 5 0 0 0 30 0 v-15" stroke="#a855f7" fill="none"/>
  </g>

  <g transform="translate(640, 260)" opacity="0.5">
    <ellipse cx="15" cy="5" rx="15" ry="5" stroke="#ffd93d" fill="none"/>
    <path d="M0 5 v15 a15 5 0 0 0 30 0 v-15" stroke="#ffd93d" fill="none"/>
  </g>

  <!-- Label -->
  <text x="400" y="400" text-anchor="middle" fill="#55556a" font-family="monospace" font-size="14" letter-spacing="4">MSA SHOP</text>
</svg>